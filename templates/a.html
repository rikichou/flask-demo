<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <link rel="stylesheet" type="text/css" href="../cs/style.css" />
    <script src="https://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js">
    </script>
</head>
<body>
    <h3>Image 1</h3>   
    <input id="img1_input" type="file" accept="image/*"/>
        <label for="img1_input"></label>
        <div class="preview1_box"></div>
    <hr />
    
    <h3>Image 2</h3>   
    <input id="img2_input" type="file" accept="image/*"/>
        <label for="img2_input"></label>
        <div class="preview2_box"></div>
    <hr />
    
    <script type="text/javascript">
        $("#img1_input").on("change", function(e) {
            var file = e.target.files[0];

          if (!file.type.match('image.*')) {
            return false;
          }

          var reader = new FileReader();

          reader.readAsDataURL(file); 
          reader.onload = function(arg) {

            var img = '<img class="preview" src="' + arg.target.result + '" alt="preview" width="200" height="200"/>';
            $(".preview1_box").empty().append(img);
          }
        });
    </script>
    
    <script type="text/javascript">
        $("#img2_input").on("change", function(e) {
            var file = e.target.files[0];

          if (!file.type.match('image.*')) {
            return false;
          }

          var reader = new FileReader();

          reader.readAsDataURL(file); 
          reader.onload = function(arg) {

            var img = '<img class="preview" src="' + arg.target.result + '" alt="preview" width="200" height="200"/>';
            $(".preview2_box").empty().append(img);
          }
        });
    </script>
    
    <script>
        var form_data = new FormData();
        var file_data = $("#img_input").prop("files")[0];

        // 把上传的数据放入form_data
        form_data.append("user", "Mike");
        form_data.append("img", file_data);

        $.ajax({
            type: "POST", // 上传文件要用POST
            url: "",
            dataType : "json",
            crossDomain: true, // 如果用到跨域，需要后台开启CORS
          processData: false,  // 注意：不要 process data
          contentType: false,  // 注意：不设置 contentType
            data: form_data
        }).success(function(msg) {
            console.log(msg);
        }).fail(function(msg) {
            console.log(msg);
        });
    </script>
</body>